@page
@model E_commerce.Pages.adminpages.ProductsModel

@{
    ViewData["Title"] = "Manage Products";
}

<h2>@ViewData["Title"]</h2>

@if (Model.ProductsList != null && Model.ProductsList.Count > 0)
{
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Description</th>
                <th>Category</th>
                <th>SubCategory</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Is Active</th>
                <th>Images</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var product in Model.ProductsList)
            {
                <tr>
                    <td>@product.ProductName</td>
                    <td>@product.Description</td>
                    <td>@product.Category</td>
                    <td>@product.SubCategory</td>
                    <td>@product.Price</td>
                    <td>@product.Quantity</td>
                    <td>@(product.IsActive == 1 ? "Active" : "Inactive")</td>

                    <!-- Displaying Images -->
                    <td>
                        @if (!string.IsNullOrEmpty(product.ImagePath1))
                        {
                            <img src="@product.ImagePath1" alt="Product Image 1" width="100" />
                        }
                        @if (!string.IsNullOrEmpty(product.ImagePath2))
                        {
                            <img src="@product.ImagePath2" alt="Product Image 2" width="100" />
                        }
                        @if (!string.IsNullOrEmpty(product.ImagePath3))
                        {
                            <img src="@product.ImagePath3" alt="Product Image 3" width="100" />
                        }
                        @if (!string.IsNullOrEmpty(product.ImagePath4))
                        {
                            <img src="@product.ImagePath4" alt="Product Image 4" width="100" />
                        }
                    </td>

                    <td>
                        <form method="post" style="display:inline;">
                            <input type="hidden" name="productId" value="@product.Id" />
                            <button type="submit" class="btn btn-danger" name="action" value="delete">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No products found.</p>
}
